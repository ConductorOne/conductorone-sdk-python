"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .webhooksource import WebhookSource, WebhookSourceTypedDict
from .webhookspec import WebhookSpec, WebhookSpecTypedDict
from datetime import datetime
from enum import Enum
from openapi.types import BaseModel
import pydantic
from typing import Optional, TypedDict
from typing_extensions import Annotated, NotRequired


class WebhookInstanceState(str, Enum):
    r"""The state field."""
    WEBHOOK_STATE_UNSPECIFIED = "WEBHOOK_STATE_UNSPECIFIED"
    WEBHOOK_STATE_PENDING = "WEBHOOK_STATE_PENDING"
    WEBHOOK_STATE_RUNNING = "WEBHOOK_STATE_RUNNING"
    WEBHOOK_STATE_ERROR = "WEBHOOK_STATE_ERROR"
    WEBHOOK_STATE_WAITING_CALLBACK = "WEBHOOK_STATE_WAITING_CALLBACK"
    WEBHOOK_STATE_PROCESS_RESPONSE = "WEBHOOK_STATE_PROCESS_RESPONSE"
    WEBHOOK_STATE_SUCCESS = "WEBHOOK_STATE_SUCCESS"
    WEBHOOK_STATE_FATAL_ERROR = "WEBHOOK_STATE_FATAL_ERROR"

class WebhookInstanceTypedDict(TypedDict):
    r"""The WebhookInstance message."""
    
    webhook_source: NotRequired[WebhookSourceTypedDict]
    r"""The WebhookSource message.

    This message contains a oneof named source. Only a single field of the following list may be set at a time:
    - test
    - policyPostAction
    - approvalStep
    - provisionStep

    """
    webhook_spec: NotRequired[WebhookSpecTypedDict]
    r"""The WebhookSpec message."""
    attempts: NotRequired[int]
    r"""The attempts field."""
    completed_at: NotRequired[datetime]
    created_at: NotRequired[datetime]
    expires_at: NotRequired[datetime]
    id: NotRequired[str]
    r"""The id field."""
    last_attempted_at: NotRequired[datetime]
    state: NotRequired[WebhookInstanceState]
    r"""The state field."""
    updated_at: NotRequired[datetime]
    webhook_id: NotRequired[str]
    r"""The webhookId field."""
    

class WebhookInstance(BaseModel):
    r"""The WebhookInstance message."""
    
    webhook_source: Annotated[Optional[WebhookSource], pydantic.Field(alias="source")] = None
    r"""The WebhookSource message.

    This message contains a oneof named source. Only a single field of the following list may be set at a time:
    - test
    - policyPostAction
    - approvalStep
    - provisionStep

    """
    webhook_spec: Annotated[Optional[WebhookSpec], pydantic.Field(alias="spec")] = None
    r"""The WebhookSpec message."""
    attempts: Optional[int] = None
    r"""The attempts field."""
    completed_at: Annotated[Optional[datetime], pydantic.Field(alias="completedAt")] = None
    created_at: Annotated[Optional[datetime], pydantic.Field(alias="createdAt")] = None
    expires_at: Annotated[Optional[datetime], pydantic.Field(alias="expiresAt")] = None
    id: Optional[str] = None
    r"""The id field."""
    last_attempted_at: Annotated[Optional[datetime], pydantic.Field(alias="lastAttemptedAt")] = None
    state: Optional[WebhookInstanceState] = None
    r"""The state field."""
    updated_at: Annotated[Optional[datetime], pydantic.Field(alias="updatedAt")] = None
    webhook_id: Annotated[Optional[str], pydantic.Field(alias="webhookId")] = None
    r"""The webhookId field."""
    
